{"ast":null,"code":"var _jsxFileName = \"/Users/williampeoples/Desktop/ReactCourse/projects/shopmate-finished/codebook/src/pages/ProductDetail.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { useTitle } from \"../hooks/useTitle\";\nimport { Rating } from \"../components\";\nimport { useCart } from \"../context\";\nimport { getProduct } from \"../services\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ProductDetail = () => {\n  _s();\n\n  const {\n    cartList,\n    addToCart,\n    removeFromCart\n  } = useCart();\n  const [inCart, setInCart] = useState(false);\n  const [product, setProduct] = useState({});\n  const {\n    id\n  } = useParams();\n  useTitle(product.name);\n  useEffect(() => {\n    async function fetchProducts() {\n      try {\n        const data = await getProduct(id);\n        setProduct(data);\n      } catch (error) {\n        toast.error(error.message, {\n          closeButton: true,\n          position: \"bottom-center\"\n        });\n      }\n    }\n\n    fetchProducts();\n  }, [id]);\n  useEffect(() => {\n    const productInCart = cartList.find(item => item.id === product.id);\n\n    if (productInCart) {\n      setInCart(true);\n    } else {\n      setInCart(false);\n    }\n  }, [cartList, product.id]);\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"mt-10 mb-5 text-4xl text-center font-bold text-gray-900 dark:text-slate-200\",\n        children: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mb-5 text-lg text-center text-gray-900 dark:text-slate-200\",\n        children: product.overview\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap justify-around\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-xl my-3\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"rounded\",\n            src: product.poster,\n            alt: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-xl my-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-3xl font-bold text-gray-900 dark:text-slate-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"mr-1\",\n              children: \"$\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"\",\n              children: product.price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"my-3\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: /*#__PURE__*/_jsxDEV(Rating, {\n                rating: product.rating\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"my-4 select-none\",\n            children: [product.best_seller && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold text-amber-500 border bg-amber-50 rounded-lg px-3 py-1 mr-2\",\n              children: \"BEST SELLER\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 42\n            }, this), product.in_stock && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold text-emerald-600\\tborder bg-slate-100 rounded-lg px-3 py-1 mr-2\",\n              children: \"INSTOCK\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 39\n            }, this), !product.in_stock && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold text-rose-700 border bg-slate-100 rounded-lg px-3 py-1 mr-2\",\n              children: \"OUT OF STOCK\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 40\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold text-blue-500 border bg-slate-100 rounded-lg px-3 py-1 mr-2\",\n              children: [product.size, \" MB\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"my-3\",\n            children: [!inCart && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => addToCart(product),\n              className: `inline-flex items-center py-2 px-5 text-lg font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 ${product.in_stock ? \"\" : \"cursor-not-allowed\"}`,\n              disabled: product.in_stock ? \"\" : \"disabled\",\n              children: [\"Add To Cart \", /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"ml-1 bi bi-plus-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 314\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 30\n            }, this), inCart && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => removeFromCart(product),\n              className: `inline-flex items-center py-2 px-5 text-lg font-medium text-center text-white bg-red-600 rounded-lg hover:bg-red-800 ${product.in_stock ? \"\" : \"cursor-not-allowed\"}`,\n              disabled: product.in_stock ? \"\" : \"disabled\",\n              children: [\"Remove Item \", /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"ml-1 bi bi-trash3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 317\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg text-gray-900 dark:text-slate-200\",\n            children: product.long_description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProductDetail, \"ccHoZjMMZyuPo3Iy0IxDFNevjYM=\", false, function () {\n  return [useCart, useParams, useTitle];\n});\n\n_c = ProductDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductDetail\");","map":{"version":3,"names":["useEffect","useState","useParams","toast","useTitle","Rating","useCart","getProduct","ProductDetail","cartList","addToCart","removeFromCart","inCart","setInCart","product","setProduct","id","name","fetchProducts","data","error","message","closeButton","position","productInCart","find","item","overview","poster","price","rating","best_seller","in_stock","size","long_description"],"sources":["/Users/williampeoples/Desktop/ReactCourse/projects/shopmate-finished/codebook/src/pages/ProductDetail.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport { useParams } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useTitle } from \"../hooks/useTitle\";\r\nimport { Rating } from \"../components\";\r\nimport { useCart } from \"../context\";\r\nimport { getProduct } from \"../services\";\r\n\r\nexport const ProductDetail = () => {\r\n  const { cartList, addToCart, removeFromCart } = useCart();\r\n  const [inCart, setInCart] = useState(false);\r\n  const [product, setProduct] = useState({});\r\n  const { id } = useParams();\r\n  useTitle(product.name);\r\n  \r\n  useEffect(() => {\r\n    async function fetchProducts(){\r\n      try{\r\n        const data = await getProduct(id);\r\n        setProduct(data);\r\n      } catch(error){\r\n        toast.error(error.message, {closeButton: true, position: \"bottom-center\" });\r\n      }      \r\n    }\r\n    fetchProducts();\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    const productInCart = cartList.find(item => item.id === product.id);\r\n\r\n    if(productInCart){\r\n        setInCart(true);\r\n    } else {\r\n        setInCart(false);\r\n    }\r\n\r\n  }, [cartList, product.id]);\r\n\r\n  return (\r\n    <main>\r\n        <section>\r\n          <h1 className=\"mt-10 mb-5 text-4xl text-center font-bold text-gray-900 dark:text-slate-200\">{product.name}</h1>\r\n          <p className=\"mb-5 text-lg text-center text-gray-900 dark:text-slate-200\">{product.overview}</p>\r\n          <div className=\"flex flex-wrap justify-around\">\r\n            <div className=\"max-w-xl my-3\">\r\n              <img className=\"rounded\" src={product.poster} alt={product.name} />\r\n            </div>\r\n            <div className=\"max-w-xl my-3\">\r\n              <p className=\"text-3xl font-bold text-gray-900 dark:text-slate-200\">\r\n                <span className=\"mr-1\">$</span>\r\n                <span className=\"\">{product.price}</span>\r\n              </p>\r\n              <p className=\"my-3\"> \r\n                <span>\r\n                  <Rating rating={product.rating} />\r\n                </span>\r\n              </p>\r\n              <p className=\"my-4 select-none\">\r\n                { product.best_seller && <span className=\"font-semibold text-amber-500 border bg-amber-50 rounded-lg px-3 py-1 mr-2\">BEST SELLER</span> }\r\n                { product.in_stock && <span className=\"font-semibold text-emerald-600\tborder bg-slate-100 rounded-lg px-3 py-1 mr-2\">INSTOCK</span> }\r\n                { !product.in_stock && <span className=\"font-semibold text-rose-700 border bg-slate-100 rounded-lg px-3 py-1 mr-2\">OUT OF STOCK</span> }\r\n                <span className=\"font-semibold text-blue-500 border bg-slate-100 rounded-lg px-3 py-1 mr-2\">{product.size} MB</span>\r\n              </p>\r\n              <p className=\"my-3\">\r\n                { !inCart && <button onClick={() => addToCart(product)} className={`inline-flex items-center py-2 px-5 text-lg font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 ${product.in_stock ? \"\" : \"cursor-not-allowed\"}`} disabled={ product.in_stock ? \"\" : \"disabled\" }>Add To Cart <i className=\"ml-1 bi bi-plus-lg\"></i></button> } \r\n                { inCart && <button onClick={() => removeFromCart(product)} className={`inline-flex items-center py-2 px-5 text-lg font-medium text-center text-white bg-red-600 rounded-lg hover:bg-red-800 ${product.in_stock ? \"\" : \"cursor-not-allowed\"}`}  disabled={ product.in_stock ? \"\" : \"disabled\" }>Remove Item <i className=\"ml-1 bi bi-trash3\"></i></button> }  \r\n              </p>\r\n              <p className=\"text-lg text-gray-900 dark:text-slate-200\">\r\n                {product.long_description}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </main> \r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}