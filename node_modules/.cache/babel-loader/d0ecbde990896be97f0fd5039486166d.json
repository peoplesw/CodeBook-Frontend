{"ast":null,"code":"var _jsxFileName = \"/Users/williampeoples/Desktop/ReactCourse/projects/shopmate-finished/codebook/src/context/FilterContext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createContext, useContext, useReducer } from \"react\";\nimport { filterReducer } from \"../reducers\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst filterInitialState = {\n  productList: [],\n  onlyInStock: false,\n  bestSellerOnly: false,\n  sortBy: null,\n  ratings: null\n};\nconst FilterContext = /*#__PURE__*/createContext(filterInitialState);\nexport const FilterProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [state, dispatch] = useReducer(filterReducer, filterInitialState);\n\n  function initialProductList(products) {\n    dispatch({\n      type: \"PRODUCT_LIST\",\n      payload: {\n        products: products\n      }\n    });\n  }\n\n  function bestSeller(products) {\n    return state.bestSellerOnly ? products.filter(product => product.best_seller === true) : products;\n  }\n\n  function inStock(products) {\n    return state.onlyInStock ? products.filter(product => product.in_stock === true) : products;\n  }\n\n  function sort(products) {\n    if (state.sortBy === \"lowtohigh\") {\n      return products.sort((a, b) => Number(a.price) - Number(b.price));\n    }\n\n    if (state.sortBy === \"hightolow\") {\n      return products.sort((a, b) => Number(b.price) - Number(a.price));\n    }\n\n    return products;\n  }\n\n  function rating(products) {\n    if (state.ratings === \"4STARSABOVE\") {\n      return products.filter(product => product.rating >= 4);\n    }\n\n    if (state.ratings === \"3STARSABOVE\") {\n      return products.filter(product => product.rating >= 3);\n    }\n\n    if (state.ratings === \"2STARSABOVE\") {\n      return products.filter(product => product.rating >= 2);\n    }\n\n    if (state.ratings === \"1STARSABOVE\") {\n      return products.filter(product => product.rating >= 1);\n    }\n\n    return products;\n  }\n\n  const filteredProductList = rating(sort(inStock(bestSeller(state.productList))));\n  const value = {\n    state,\n    dispatch,\n    products: filteredProductList,\n    initialProductList\n  };\n  return /*#__PURE__*/_jsxDEV(FilterContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n};\n\n_s(FilterProvider, \"dvV8siVZo2mCaSJNkdsTS95bcC0=\");\n\n_c = FilterProvider;\nexport const useFilter = () => {\n  _s2();\n\n  const context = useContext(FilterContext);\n  return context;\n};\n\n_s2(useFilter, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"FilterProvider\");","map":{"version":3,"names":["createContext","useContext","useReducer","filterReducer","filterInitialState","productList","onlyInStock","bestSellerOnly","sortBy","ratings","FilterContext","FilterProvider","children","state","dispatch","initialProductList","products","type","payload","bestSeller","filter","product","best_seller","inStock","in_stock","sort","a","b","Number","price","rating","filteredProductList","value","useFilter","context"],"sources":["/Users/williampeoples/Desktop/ReactCourse/projects/shopmate-finished/codebook/src/context/FilterContext.js"],"sourcesContent":["import { createContext, useContext, useReducer } from \"react\"\r\nimport { filterReducer } from \"../reducers\";\r\n\r\nconst filterInitialState = {\r\n    productList: [],\r\n    onlyInStock: false,\r\n    bestSellerOnly: false,\r\n    sortBy: null,\r\n    ratings: null\r\n}\r\n\r\nconst FilterContext = createContext(filterInitialState);\r\n\r\nexport const FilterProvider = ({children}) => {\r\n    const [state, dispatch] = useReducer(filterReducer, filterInitialState);\r\n\r\n    function initialProductList(products){\r\n        dispatch({\r\n            type: \"PRODUCT_LIST\",\r\n            payload: {\r\n                products: products\r\n            }\r\n        });\r\n    }\r\n\r\n    function bestSeller(products){\r\n        return state.bestSellerOnly ? products.filter(product => product.best_seller === true) : products;\r\n    }\r\n\r\n    function inStock(products){\r\n        return state.onlyInStock ? products.filter(product => product.in_stock === true) : products;\r\n    }\r\n    \r\n    function sort(products){\r\n        if(state.sortBy === \"lowtohigh\"){\r\n            return products.sort((a, b) => Number(a.price) - Number(b.price));\r\n        }\r\n        if(state.sortBy === \"hightolow\"){\r\n            return products.sort((a, b) => Number(b.price) - Number(a.price));\r\n        }\r\n        return products;\r\n    }\r\n\r\n    function rating(products){\r\n        if(state.ratings === \"4STARSABOVE\"){\r\n            return products.filter(product => product.rating >= 4);\r\n        }\r\n        if(state.ratings === \"3STARSABOVE\"){\r\n            return products.filter(product => product.rating >= 3);\r\n        }\r\n        if(state.ratings === \"2STARSABOVE\"){\r\n            return products.filter(product => product.rating >= 2);\r\n        }\r\n        if(state.ratings === \"1STARSABOVE\"){\r\n            return products.filter(product => product.rating >= 1);\r\n        }\r\n        return products;\r\n    }\r\n\r\n    const filteredProductList = rating(sort(inStock(bestSeller(state.productList))));\r\n\r\n    const value = {\r\n        state, \r\n        dispatch,\r\n        products: filteredProductList,\r\n        initialProductList\r\n    }\r\n    return (\r\n        <FilterContext.Provider value={value}>\r\n            {children}\r\n        </FilterContext.Provider>\r\n    )\r\n}\r\n\r\nexport const useFilter = () => {\r\n    const context = useContext(FilterContext);\r\n    return context;\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}